{
  "tablesToCreate": [
    {
      "tableName": "EventFinderSearchRequests",
      "description": "Stores async search requests and their status",
      "schema": {
        "TableName": "EventFinderSearchRequests",
        "KeySchema": [
          {
            "AttributeName": "requestId",
            "KeyType": "HASH"
          }
        ],
        "AttributeDefinitions": [
          {
            "AttributeName": "requestId",
            "AttributeType": "S"
          }
        ],
        "BillingMode": "PAY_PER_REQUEST",
        "StreamSpecification": {
          "StreamEnabled": false
        },
        "SSESpecification": {
          "Enabled": false
        }
      },
      "sampleRecord": {
        "requestId": "req-1234567890-abc123",
        "userId": "username",
        "status": "processing",
        "searchParams": {
          "location": "Berlin",
          "activity_type": "Food",
          "timeframe": "Tomorrow"
        },
        "submittedAt": "2025-09-11T06:05:12.631Z",
        "processingStartedAt": "2025-09-11T06:05:13.041Z",
        "completedAt": null,
        "results": null,
        "error": null,
        "currentStep": "Gathering event data..."
      }
    },
    {
      "tableName": "EventFinderUserSearches",
      "description": "Stores completed search results for search history",
      "schema": {
        "TableName": "EventFinderUserSearches",
        "KeySchema": [
          {
            "AttributeName": "searchId",
            "KeyType": "HASH"
          }
        ],
        "AttributeDefinitions": [
          {
            "AttributeName": "searchId",
            "AttributeType": "S"
          },
          {
            "AttributeName": "userId",
            "AttributeType": "S"
          }
        ],
        "GlobalSecondaryIndexes": [
          {
            "IndexName": "UserIdIndex",
            "KeySchema": [
              {
                "AttributeName": "userId",
                "KeyType": "HASH"
              }
            ],
            "Projection": {
              "ProjectionType": "ALL"
            }
          }
        ],
        "BillingMode": "PAY_PER_REQUEST"
      },
      "sampleRecord": {
        "searchId": "search-1234567890-def456",
        "userId": "username",
        "searchCriteria": {
          "location": "Berlin",
          "activity_type": "Food"
        },
        "searchTimestamp": "2025-09-11T06:05:12.631Z",
        "eventCount": 5,
        "events": [
          {
            "name": "Food Festival",
            "date": "2025-09-12",
            "location": "Berlin Central Park"
          }
        ]
      }
    },
    {
      "tableName": "EventFinderUsers",
      "description": "Stores user accounts and authentication data",
      "schema": {
        "TableName": "EventFinderUsers",
        "KeySchema": [
          {
            "AttributeName": "username",
            "KeyType": "HASH"
          }
        ],
        "AttributeDefinitions": [
          {
            "AttributeName": "username",
            "AttributeType": "S"
          }
        ],
        "BillingMode": "PAY_PER_REQUEST"
      },
      "sampleRecord": {
        "username": "testuser",
        "email": "test@example.com",
        "password": "$2a$10$hashedPasswordHere",
        "createdAt": "2025-09-11T06:05:12.631Z",
        "lastLoginAt": "2025-09-11T06:05:12.631Z",
        "emailVerified": true,
        "isActive": true
      }
    }
  ],
  "awsCliCommands": [
    {
      "description": "Create EventFinderSearchRequests table",
      "command": "aws dynamodb create-table --table-name EventFinderSearchRequests --attribute-definitions AttributeName=requestId,AttributeType=S --key-schema AttributeName=requestId,KeyType=HASH --billing-mode PAY_PER_REQUEST --region ap-south-1"
    },
    {
      "description": "Create EventFinderUserSearches table with GSI",
      "command": "aws dynamodb create-table --table-name EventFinderUserSearches --attribute-definitions AttributeName=searchId,AttributeType=S AttributeName=userId,AttributeType=S --key-schema AttributeName=searchId,KeyType=HASH --global-secondary-indexes IndexName=UserIdIndex,KeySchema=[{AttributeName=userId,KeyType=HASH}],Projection={ProjectionType=ALL} --billing-mode PAY_PER_REQUEST --region ap-south-1"
    },
    {
      "description": "Create EventFinderUsers table",
      "command": "aws dynamodb create-table --table-name EventFinderUsers --attribute-definitions AttributeName=username,AttributeType=S --key-schema AttributeName=username,KeyType=HASH --billing-mode PAY_PER_REQUEST --region ap-south-1"
    }
  ]
}